(this.webpackJsonpcards_game=this.webpackJsonpcards_game||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=a(1),s=a(3),i=a(2),u=a(6),d=a(7),m=a(9),v=a(8),p=a(10),f=r.a.createContext(null),y=(a(16),function(e){var t=e.text,a=e.onClick;return r.a.createElement("button",{className:"btn",onClick:a},t)}),h=function(e){var t=e.onShuffle,a=e.onStart,c=Object(n.useContext)(f);return r.a.createElement("div",{className:"nav"},!c.start&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(y,{text:"Shuffle the deck",onClick:t})),r.a.createElement("div",null,r.a.createElement(y,{text:"Start game",onClick:a}))))},k=function(e){var t=e.card,a=e.position;return r.a.createElement("div",{className:"card-deck__card",style:a},t&&r.a.createElement("p",{className:"card-deck__card__card-title"},t))},E=function(){var e=Object(n.useContext)(f).CardDeck;return r.a.createElement("div",{className:"cardDeck"},e.map((function(e,t){var a=50-.01*t+"%";return r.a.createElement(k,{key:t+1,position:{left:a}})})))},b=function(e){var t=e.cardBank;return r.a.createElement("div",{className:"card-bank"},t.map((function(e,t){var a=5+(t+1)+"%";return r.a.createElement(k,{card:e,position:{right:a},key:t})})))},S=function(e){var t=e.playerName,a=e.setPlayerMove,c=Object(n.useContext)(f);return r.a.createElement("div",{className:"player"},r.a.createElement("div",{className:"player__name"},r.a.createElement("p",null,t),c[t].isPlayerMove&&r.a.createElement("span",{className:"player__name-turn"},"You turn!")),r.a.createElement("div",{onClick:a},c[t].hand.map((function(e,t){var a=50-(t+1)+"%";return r.a.createElement(k,{key:t,position:{left:a,top:"150px"}})}))))},P=function(e){var t=e.onShuffle,a=e.onStart,c=e.setPlayerMove,l=Object(n.useContext)(f);return r.a.createElement("div",{className:"App"},r.a.createElement(h,{onShuffle:t,onStart:a}),r.a.createElement(E,null),l.start&&r.a.createElement("div",{className:"players-container"},r.a.createElement(S,{playerName:"player1",setPlayerMove:l.player1.isPlayerMove?c.bind(void 0,"player1","player2"):function(){}}),r.a.createElement(S,{playerName:"player2",setPlayerMove:l.player2.isPlayerMove?c.bind(void 0,"player2","player1"):function(){}})),r.a.createElement(b,{cardBank:l.cardBank}),!!l.winningPlayer&&r.a.createElement("h2",{className:"win-title"},l.winningPlayer," won!!!"))},C={6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13,A:14},M=[6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,"J","J","J","J","Q","Q","Q","Q","K","K","K","K","A","A","A","A"],O=function(e){for(var t,a,n=e.length-1;n>0;--n)a=e[t=Math.floor(Math.random()*(n+1))],e[t]=e[n],e[n]=a;return e},g=function(e,t){return 6===e&&"A"===t||C[e]>C[t]},j=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={start:!1,player1:{isPlayerMove:!0,hand:[]},player2:{isPlayerMove:!1,hand:[]},CardDeck:[],cardBank:[],winningPlayer:""},a.distributionOfCards=function(e){for(var t=[],n=[],r=a.state,c=r.player1,l=r.player2,o=e.length-1;o>=0;--o)o%2!==0?t.push(e[o]):n.push(e[o]);a.setState({player1:Object(i.a)({},c,{hand:c.hand.concat(t)}),player2:Object(i.a)({},l,{hand:l.hand.concat(n)}),CardDeck:[]})},a.cardMove=function(e){var t=Object(s.a)(a.state.cardBank),n=e.pop();return t.push(n),a.setState({cardBank:t}),g(n,t[t.length-2])?(setTimeout((function(){a.setState({cardBank:[]})}),1e3),Object(s.a)(t).concat(e)):e},a.setPlayerMove=function(e,t,n){var r;n.preventDefault(),a.setState((r={},Object(o.a)(r,e,{isPlayerMove:!1,hand:a.cardMove(a.state[e].hand)}),Object(o.a)(r,t,Object(i.a)({},a.state[t],{isPlayerMove:!0})),r)),a.state[e].hand.length||a.setState({start:!1,player1:{isPlayerMove:!0,hand:[]},player2:{isPlayerMove:!1,hand:[]},cardBank:[],CardDeck:O(M),winningPlayer:t},(function(){return console.log(a.state)}))},a.onShuffle=function(){a.setState({CardDeck:a.shuffle(a.state.CardDeck)})},a.onStart=function(){return a.setState({start:!0})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({CardDeck:O(M)})}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.start,r=a.CardDeck;t.start!==n&&n&&(this.setState({winningPlayer:""}),this.distributionOfCards(r))}},{key:"render",value:function(){return r.a.createElement(f.Provider,{value:this.state},r.a.createElement(P,{onShuffle:this.onShuffle,onStart:this.onStart,setPlayerMove:this.setPlayerMove}))}}]),t}(n.Component);l.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.f7382b66.chunk.js.map